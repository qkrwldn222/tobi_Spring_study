
# 예외처리

try / catch 사용시 catch를 무시하면 무슨 에러가 발생하는지 알 수 없기 때문에 안쓰는 습관을 들이는게 좋다.
무의미하고 무책임한 throws는 안쓰는 습관을 들이는게 좋다.

예외의 종류와 특징
- Error : 시스템에 비정상적인 상황이 발생했을 경우에 사용 JVM에서 주로 발생 코드로 잡을 수 없음.
- Exception 와 체크 예외: 에러와 달리 코르 작업 중에 예외 상황이 발생 했을 경우 사용, 체크 예외와 언체크 예외로 구분된다.
- RuntimeException과 언체크 / 런타임 예외 : 예외 체크를 강제하지 않기 때문에 언체크로 불린다. 주로 프로그램 오류가 있을 때 발생하도록 의도된 것들이다.

### 예외처리 방법
- 예외복구 : 예외사항을 파악하고 문제를 해결해서 정상 상태로 돌려놓음 ( DB 커넥션이 안되면 일정 수만큼 다시 시도)
- 예외처리 회피 : 예외가 발생하면 자신을 호출한 메소드로 넘기는 방법.
- 예외 전환 : 예외를 그대로 넘기는게 아니라 적절한 예외로 전환해서 던지는 방법.

### JDBC의 한계
- 비표준 SQL : SQL은 어느정도 표준화된 언어이고 몇 가지 표군 유약이 있지만 대부분의 DB가 표준을 따르지 않는 문법과 기능을 제공하기 때문에 DAO코드가 특정 DB에 종속적이게 된다.
- 호환성 : 예외가 발생되는 원인은 다양한데 DB마다 SQL만 다른 것이 아닌 에러의 종류와 원인이 제각 각이기 때문에 SQLException 한 가지만 던지도록 설계되어 있고, DB바 바뀌게 되면 DAO코드가 호환되지 않을 수 있음.


### DataAccessException 계층구조
>DataAccessException은
**SQLException에 대해 애플리케이션 레벨에서 신경을 쓰지 않도록 해주고,**
**SQLException에 담긴 다루기 힘든 상세한 예외 정보를 의미 있는 예외로 전환시켜준다.**
**또한 DataAccessException은 또한 앞서 말했듯이 자바 데이터 액세스 기술에 상관없이 발생하는 예외에도 적용된다.**
JdbcTemplate은 입력 단계에서 강화시키기 위해 개발자가 빨리 인식할 수 있도록
런타임 예외인 DataAccessException으로 포장을 해준 것이다.
즉, 의미가 같은 예외라면 데이터 액세스 기술의 종류와 상관없이 일관된 예외가 발생하도록 만들어준다.

주의할점은,
키값 중복이 되는 같은 상황이라도 똑같은 예외 발생하지 않을 수 있다.

-   데이터 액세스 기술에 상관없이 키 값이 중복이 되는 상황에 아래와 같이 동일한 예외가 발생하지 않는다.
-   JDBC는 **DuplicateKeyException**, 하이버네이트는  **ContraintViolationException**을 발생시킬 것이다.

## 정리
- 예외를 잡아서 아무런 조치를 하지않거나 의미없는 throws 선언은 멈춰!
- 스프링은 DataAccessException을 통해 DB에 독립적으로 적용 가능한 추상화된 러타임 예외 계층을 제공한다.
-


> Written with [StackEdit](https://stackedit.io/).